generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("NEXT_DATABASE_URL")
}

model User {
  id                String      @id @default(uuid())
  clerk_id          String      @unique
  email             String      @unique
  full_name         String?
  first_name        String?
  last_name         String?
  password          String?
  profile_image_url String?
  createdAt         DateTime    @default(now())
  updatedAt         DateTime    @updatedAt
}

model Installation {
  id             Int           @id
  accountId      Int
  accountLogin   String
  accountType    String
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt

  repositories   Repository[]
}

model Repository {
  id              Int           @id @default(autoincrement())
  githubRepoId    Int           @unique
  name            String
  fullName        String
  installationId  Int
  createdAt       DateTime      @default(now())
  installation    Installation  @relation(fields: [installationId], references: [id])
  updatedAt       DateTime      @updatedAt
}